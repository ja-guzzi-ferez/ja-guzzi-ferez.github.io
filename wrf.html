<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Mapa Interactivo WRF - Multivariable</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"/>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style/wrf.css">
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" defer></script>
  <script src="https://unpkg.com/leaflet-rotatedmarker@0.2.0/leaflet.rotatedMarker.js" defer></script>
  <script src="js/wrf.js" defer></script>
</head>
<body>

<header>
  <h1>Visualizador Meteorológico Multimodelo</h1>
</header>

<!-- Sistema de Pestañas -->
<div class="tabs-wrapper">
  <div class="tabs-header">
    <button class="tab-button active" data-tab="tab-frentes">Condiciones actuales</button>
    <button class="tab-button" data-tab="tab-mapa">Modelos Meteorológicos</button>
    <button class="tab-button" data-tab="tab-ciclones">Ciclones Tropicales</button>
    <button class="tab-button" data-tab="tab-oceanografia">Oceanografía</button>
    <button class="tab-button" data-tab="tab-estacionales">Modelos Estacionales</button>
  </div>

  <div class="tabs-content">
    <!-- Pestaña 1: Condiciones actuales (frentes + satélite opcional) -->
    <div id="tab-frentes" class="tab-panel active">
      <div id="layout-frentes">
        
        <!-- Mapa principal -->
        <div id="map-frentes"></div>

        <!-- Leyenda de satélite (se muestra solo si banda activa) -->
        <div id="legend-wrapper-satelite" style="display:none;">
          <img id="legend-img-satelite" src="images/B13_vertical.png" alt="Leyenda de temperatura">
        </div>

        <!-- Controles a la derecha -->
        <div id="frentes-controls">
          <strong>Capas</strong><br>
          <div class="checkbox-item">
            <input type="checkbox" id="toggle-frentes" checked>
            <label for="toggle-frentes">Frentes sinópticos</label>
          </div>

          <br><strong>Selecciona el estado</strong><br>
          <select id="buscador-satelite">
            <option value="">-- Selecciona un estado --</option>
            <option value="republica_mexicana">República Mexicana</option>
            <option value="aguascalientes">Aguascalientes</option>
            <option value="baja_california">Baja California</option>
            <option value="baja_california_sur">Baja California Sur</option>
            <option value="campeche">Campeche</option>
            <option value="chiapas">Chiapas</option>
            <option value="chihuahua">Chihuahua</option>
            <option value="ciudad_de_mexico">Ciudad de México</option>
            <option value="coahuila">Coahuila</option>
            <option value="colima">Colima</option>
            <option value="durango">Durango</option>
            <option value="estado_de_mexico">Estado de México</option>
            <option value="guanajuato">Guanajuato</option>
            <option value="guerrero">Guerrero</option>
            <option value="hidalgo">Hidalgo</option>
            <option value="jalisco">Jalisco</option>
            <option value="michoacan">Michoacán</option>
            <option value="morelos">Morelos</option>
            <option value="nayarit">Nayarit</option>
            <option value="nuevo_leon">Nuevo León</option>
            <option value="oaxaca">Oaxaca</option>
            <option value="puebla">Puebla</option>
            <option value="queretaro">Querétaro</option>
            <option value="quintana_roo">Quintana Roo</option>
            <option value="san_luis_potosi">San Luis Potosí</option>
            <option value="sinaloa">Sinaloa</option>
            <option value="sonora">Sonora</option>
            <option value="tabasco">Tabasco</option>
            <option value="tamaulipas">Tamaulipas</option>
            <option value="tlaxcala">Tlaxcala</option>
            <option value="veracruz">Veracruz</option>
            <option value="yucatan">Yucatán</option>
            <option value="zacatecas">Zacatecas</option>
          </select>

          <br><br><strong>Selecciona la banda de satélite</strong><br>
          <select id="banda-satelite">
            <option value="inactivo" selected>Inactivo</option>
            <option value="B13">Banda 13 (IR)</option>
          </select>
        </div>

        <!-- Slider abajo (solo visible si banda activa) -->
        <div id="bottom-controls-satelite" style="display:none;">
          <div id="time-display-satelite">Satélite inactivo</div>

          <div id="slider-container-satelite">
            <input type="range" id="slider-satelite" min="0" max="0" value="0" step="1">
            <div id="time-range-satelite">Frame 0 de 0</div>

            <div>
              <button id="prevBtn-satelite">⏪</button>
              <button id="playBtn-satelite">▶</button>
              <button id="pauseBtn-satelite" style="display:none;">⏸</button>
              <button id="nextBtn-satelite">⏩</button>
            </div>
          </div>
        </div>

      </div>
    </div>

    <!-- Pestaña 2: Mapa (contenido actual) -->
    <div id="tab-mapa" class="tab-panel">
      <div id="layout">
        
        <!-- Mapa -->
        <div id="map"></div>

        <!-- Leyenda -->
        <div id="legend-wrapper">
          <img id="legend-img" src="" alt="Leyenda de colores">
        </div>

        <!-- Controles a la derecha -->
        <div id="variable-selector">
    <strong>Selecciona el modelo</strong><br>
    <select id="modelos">
      <option value="WRF" selected="selected">WRF</option>
      <option value="GFS">GFS</option>
      <option value="ECMWF">ECMWF</option>
      <option value="ICON">ICON</option>
    </select>
    
    <br><br><strong>Selecciona el estado</strong><br>
    <select id="buscador">
      <option value="">-- Selecciona un estado --</option>
      <option value="republica_mexicana">República Mexicana</option>
      <option value="aguascalientes">Aguascalientes</option>
      <option value="baja_california">Baja California</option>
      <option value="baja_california_sur">Baja California Sur</option>
      <option value="campeche">Campeche</option>
      <option value="chiapas">Chiapas</option>
      <option value="chihuahua">Chihuahua</option>
      <option value="ciudad_de_mexico">Ciudad de México</option>
      <option value="coahuila">Coahuila</option>
      <option value="colima">Colima</option>
      <option value="durango">Durango</option>
      <option value="estado_de_mexico">Estado de México</option>
      <option value="guanajuato">Guanajuato</option>
      <option value="guerrero">Guerrero</option>
      <option value="hidalgo">Hidalgo</option>
      <option value="jalisco">Jalisco</option>
      <option value="michoacan">Michoacán</option>
      <option value="morelos">Morelos</option>
      <option value="nayarit">Nayarit</option>
      <option value="nuevo_leon">Nuevo León</option>
      <option value="oaxaca">Oaxaca</option>
      <option value="puebla">Puebla</option>
      <option value="queretaro">Querétaro</option>
      <option value="quintana_roo">Quintana Roo</option>
      <option value="san_luis_potosi">San Luis Potosí</option>
      <option value="sinaloa">Sinaloa</option>
      <option value="sonora">Sonora</option>
      <option value="tabasco">Tabasco</option>
      <option value="tamaulipas">Tamaulipas</option>
      <option value="tlaxcala">Tlaxcala</option>
      <option value="veracruz">Veracruz</option>
      <option value="yucatan">Yucatán</option>
      <option value="zacatecas">Zacatecas</option>
    </select>


    <br><br><strong>Selecciona la variable</strong><br>
    <select id="variable-select"></select>
    
    <br><br><strong>Fecha y hora</strong><br>
    
    <select id="extra-filters"></select>

    <br><br><strong>Activar o desactivar vectores de viento</strong><br>
    <button id="toggle-wind">Ocultar Vectores</button>
  </div>

  <!-- Slider abajo del mapa -->
  <div id="bottom-controls">
    <div id="time-display">Cargando datos...</div>

    <div id="slider-container">
      <input type="range" id="slider" min="0" max="0" value="0" step="1">
      <div id="time-range">Tiempo 0 de 0</div>

      <div>
        <button id="prevBtn">⏪</button>
        <button id="playBtn">▶</button>
        <button id="pauseBtn" style="display:none;">⏸</button>
        <button id="nextBtn">⏩</button>
      </div>
    </div>
  </div>

      </div>
    </div>

    <!-- Pestaña 3: Ciclones tropicales -->
    <div id="tab-ciclones" class="tab-panel">
      <div id="layout-ciclones">
        
        <!-- Mapa de Ciclones -->
        <div id="map-ciclones"></div>

        <!-- Leyenda Ciclones -->
        <div id="legend-wrapper-ciclones">
          <img id="legend-img-ciclones" src="images/CICLONES_horizontal.png" alt="Leyenda de ciclones">
        </div>

        <!-- Filtros a la derecha -->
        <div id="variable-selector-ciclones">
          <strong>Selecciona cuencas</strong><br>
          <div id="checkboxes-cuencas"></div>

          <br><strong>Años disponibles</strong><br>
          <div id="checkboxes-anios"></div>

          <br><strong>Ciclones</strong><br>
          <div id="checkboxes-ciclones"></div>
        </div>

      </div>
    </div>

    <!-- Pestaña 4: Oceanografía -->
    <div id="tab-oceanografia" class="tab-panel">
      <div id="layout-oceanografia">
        
        <!-- Mapa principal -->
        <div id="map-oceanografia"></div>

        <!-- Leyenda (se muestra según variable) -->
        <div id="legend-wrapper-oceanografia" style="display:none;">
          <img id="legend-img-oceanografia" src="" alt="Leyenda oceanografía">
        </div>

        <!-- Controles a la derecha -->
        <div id="variable-selector-oceanografia">
          <strong>Selecciona el estado</strong><br>
          <select id="buscador-oceanografia">
            <option value="">-- Selecciona un estado --</option>
            <option value="republica_mexicana">República Mexicana</option>
            <option value="aguascalientes">Aguascalientes</option>
            <option value="baja_california">Baja California</option>
            <option value="baja_california_sur">Baja California Sur</option>
            <option value="campeche">Campeche</option>
            <option value="chiapas">Chiapas</option>
            <option value="chihuahua">Chihuahua</option>
            <option value="ciudad_de_mexico">Ciudad de México</option>
            <option value="coahuila">Coahuila</option>
            <option value="colima">Colima</option>
            <option value="durango">Durango</option>
            <option value="estado_de_mexico">Estado de México</option>
            <option value="guanajuato">Guanajuato</option>
            <option value="guerrero">Guerrero</option>
            <option value="hidalgo">Hidalgo</option>
            <option value="jalisco">Jalisco</option>
            <option value="michoacan">Michoacán</option>
            <option value="morelos">Morelos</option>
            <option value="nayarit">Nayarit</option>
            <option value="nuevo_leon">Nuevo León</option>
            <option value="oaxaca">Oaxaca</option>
            <option value="puebla">Puebla</option>
            <option value="queretaro">Querétaro</option>
            <option value="quintana_roo">Quintana Roo</option>
            <option value="san_luis_potosi">San Luis Potosí</option>
            <option value="sinaloa">Sinaloa</option>
            <option value="sonora">Sonora</option>
            <option value="tabasco">Tabasco</option>
            <option value="tamaulipas">Tamaulipas</option>
            <option value="tlaxcala">Tlaxcala</option>
            <option value="veracruz">Veracruz</option>
            <option value="yucatan">Yucatán</option>
            <option value="zacatecas">Zacatecas</option>
          </select>

          <br><br><strong>Selecciona la variable</strong><br>
          <select id="variable-oceanografia">
            <option value="SST">Temperatura Superficial del Mar (SST)</option>
            <option value="ANOM_SST">Anomalía de TSM (ANOM_SST)</option>
            <option value="OLEAJE">Altura de Oleaje (OLEAJE)</option>
          </select>

          <br><br><strong>Selecciona fecha y hora</strong><br>
          <select id="fecha-oceanografia"></select>

          <br><br><strong>Dirección de oleaje</strong><br>
          <button id="toggle-oleaje-dir" disabled>Mostrar Direcciones</button>
        </div>

        <!-- Slider abajo -->
        <div id="bottom-controls-oceanografia" style="display:none;">
          <div id="time-display-oceanografia">Cargando datos...</div>

          <div id="slider-container-oceanografia">
            <input type="range" id="slider-oceanografia" min="0" max="0" value="0" step="1">
            <div id="time-range-oceanografia">Frame 0 de 0</div>

            <div>
              <button id="prevBtn-oceanografia">⏪</button>
              <button id="playBtn-oceanografia">▶</button>
              <button id="pauseBtn-oceanografia" style="display:none;">⏸</button>
              <button id="nextBtn-oceanografia">⏩</button>
            </div>
          </div>
        </div>

      </div>
    </div>

    <!-- Pestaña 6: modelos estacionales -->
    <div id="tab-estacionales" class="tab-panel">
      <div class="tab-content-wrapper">
        <h2>Modelos Estacionales</h2>
        <p>Aquí irán los datos de modelos como el CFSv2, ECMWF Seasonal, etc...</p>
      </div>
    </div>

  </div>
</div>


<footer>
  © 2026 · Desarrollado por M.C. José Antonio Guzzi Ferez · Visualización meteorológica
</footer>

</body>

</html>
